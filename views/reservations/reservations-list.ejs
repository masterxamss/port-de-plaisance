<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/catways.css">
</head>
<body class="d-flex flex-column">
<%- include('../includes/navigation.ejs') %>
<main>
  <section class="section-container">

    <header class="section-container__header">
      <img src="/images/helm32x32.png" alt="logo">
      <h1>Dashboard</h1>
    </header>

    <section class="section-container__body">
      <aside class="body-aside">
        <%- include('../includes/dashboard-menu.ejs') %>
      </aside>
      <div class="body-content">
        <% if (reservations.length === 0) { %>
          <h1 class="text-center text-danger">Aucune reservation</h1>
        <% } else { %>
          <table class="table table-hover">
            <thead class="text-light table-dark ">
              <tr>
                <th scope="col">NÃºmero catway</th>
                <th scope="col">Nom client</th>
                <th scope="col">Nom bateau</th>
                <th scope="col">Date de check-in</th>
                <th scope="col">Date de check-out</th>
                <th scope="col" class="text-center">Options</th>
              </tr>
            </thead>
            <tbody class="bg-light">
              <% reservations.forEach((reservation) => { %>
                <tr>
                  <td class="align-middle"><%= reservation.catwayNumber %></td>
                  <td class="align-middle"><%= reservation.clientName %></td>
                  <td class="align-middle"><%= reservation.boatName %></td>
                  <td class="align-middle"><%= moment(reservation.checkIn).format('DD/MM/YYYY') %></td>
                  <td class="align-middle"><%= moment(reservation.checkOut).format('DD/MM/YYYY') %></td>

                  <td class="align-middle text-center">
                    <a class="btn btn-success btn-sm" href="/catway/<%= reservation.catwayNumber%>/reservation/<%= reservation._id %>">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-text" viewBox="0 0 16 16">
                        <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5"/>
                        <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>
                      </svg>
                    </a>
                  </td>
                </tr>
              <% }) %>
            </tbody>
          </table>
            
            

        <% } %>
        
      </div>
    </section>
    <footer class="section-container__footer">

    </footer>
  </section>
  <%- include('../includes/error-message.ejs') %>
</main>
<%- include('../includes/end.ejs') %>